var arrayEqual = function(a, b) {
	var i = Math.max(a.length, b.length, 1);
	while(i-- >= 0 && a[i] === b[i]);
	return (i === -2);
}

var flattenArray = function(arr) {
	var r = [];
	
	while (!arrayEqual(r, arr)) {
		r = arr;
		arr = [].concat.apply([], arr);
	}
	return arr;
}
module.exports = flattenArray;